// This file defines various interrupt handlers used by the kernel.
#include <asm/macro.h>

// The body for an handler, this does not contain the iret nor the push of the
// error code. This macro should only be used by the DEF_HANDLER and
// DEF_HANDLER_NO_ERROR_CODE macros.
#define _HANDLER_BODY(irq) ;\
        push    $irq ;\
        mov     %esp, %eax ;\
        push    %eax ;\
        call    generic_interrupt_handler ;\
        pop     %eax ;\
        pop     %eax

// Generate an interrupt handler for vector `irq`.
// This handler constructs a interrupt_desc_t struct on the stack and calls
// the generic_interrupt_handler.
#define DEF_HANDLER(irq) ;\
    ASM_FUNC_DEF(interrupt_handler_##irq): ;\
        _HANDLER_BODY(irq) ;\
        iret

// Define an interrupt handler for interrupt that do not have error codes.
// Instead the error code is 0.
// This is necessary since the generic_interrupt_handler *always* expect an
// error code in the interrupt_desc_t struct.
#define DEF_HANDLER_NO_ERROR_CODE(irq) ;\
    ASM_FUNC_DEF(interrupt_handler_##irq): ;\
        push    $0 ;\
        _HANDLER_BODY(irq) ;\
        pop     %eax ;\
        iret
// Define all interrupt handlers required by exceptions, that is vectors 0
// through 20.
DEF_HANDLER_NO_ERROR_CODE(0)
DEF_HANDLER_NO_ERROR_CODE(1)
DEF_HANDLER_NO_ERROR_CODE(2)
DEF_HANDLER_NO_ERROR_CODE(3)
DEF_HANDLER_NO_ERROR_CODE(4)
DEF_HANDLER_NO_ERROR_CODE(5)
DEF_HANDLER_NO_ERROR_CODE(6)
DEF_HANDLER_NO_ERROR_CODE(7)
DEF_HANDLER(8)
DEF_HANDLER_NO_ERROR_CODE(9)
DEF_HANDLER(10)
DEF_HANDLER(11)
DEF_HANDLER(12)
DEF_HANDLER(13)
DEF_HANDLER(14)
DEF_HANDLER_NO_ERROR_CODE(15)
DEF_HANDLER_NO_ERROR_CODE(16)
DEF_HANDLER(17)
DEF_HANDLER_NO_ERROR_CODE(18)
DEF_HANDLER_NO_ERROR_CODE(19)
DEF_HANDLER_NO_ERROR_CODE(20)

// Define all interrupt handlers for user-defined interrupts: vectors 32 to 255.
// Those interrupts do not have error codes.
DEF_HANDLER_NO_ERROR_CODE(32)
DEF_HANDLER_NO_ERROR_CODE(33)
DEF_HANDLER_NO_ERROR_CODE(34)
DEF_HANDLER_NO_ERROR_CODE(35)
DEF_HANDLER_NO_ERROR_CODE(36)
DEF_HANDLER_NO_ERROR_CODE(37)
DEF_HANDLER_NO_ERROR_CODE(38)
DEF_HANDLER_NO_ERROR_CODE(39)
DEF_HANDLER_NO_ERROR_CODE(40)
DEF_HANDLER_NO_ERROR_CODE(41)
DEF_HANDLER_NO_ERROR_CODE(42)
DEF_HANDLER_NO_ERROR_CODE(43)
DEF_HANDLER_NO_ERROR_CODE(44)
DEF_HANDLER_NO_ERROR_CODE(45)
DEF_HANDLER_NO_ERROR_CODE(46)
DEF_HANDLER_NO_ERROR_CODE(47)
DEF_HANDLER_NO_ERROR_CODE(48)
DEF_HANDLER_NO_ERROR_CODE(49)
DEF_HANDLER_NO_ERROR_CODE(50)
DEF_HANDLER_NO_ERROR_CODE(51)
DEF_HANDLER_NO_ERROR_CODE(52)
DEF_HANDLER_NO_ERROR_CODE(53)
DEF_HANDLER_NO_ERROR_CODE(54)
DEF_HANDLER_NO_ERROR_CODE(55)
DEF_HANDLER_NO_ERROR_CODE(56)
DEF_HANDLER_NO_ERROR_CODE(57)
DEF_HANDLER_NO_ERROR_CODE(58)
DEF_HANDLER_NO_ERROR_CODE(59)
DEF_HANDLER_NO_ERROR_CODE(60)
DEF_HANDLER_NO_ERROR_CODE(61)
DEF_HANDLER_NO_ERROR_CODE(62)
DEF_HANDLER_NO_ERROR_CODE(63)
DEF_HANDLER_NO_ERROR_CODE(64)
DEF_HANDLER_NO_ERROR_CODE(65)
DEF_HANDLER_NO_ERROR_CODE(66)
DEF_HANDLER_NO_ERROR_CODE(67)
DEF_HANDLER_NO_ERROR_CODE(68)
DEF_HANDLER_NO_ERROR_CODE(69)
DEF_HANDLER_NO_ERROR_CODE(70)
DEF_HANDLER_NO_ERROR_CODE(71)
DEF_HANDLER_NO_ERROR_CODE(72)
DEF_HANDLER_NO_ERROR_CODE(73)
DEF_HANDLER_NO_ERROR_CODE(74)
DEF_HANDLER_NO_ERROR_CODE(75)
DEF_HANDLER_NO_ERROR_CODE(76)
DEF_HANDLER_NO_ERROR_CODE(77)
DEF_HANDLER_NO_ERROR_CODE(78)
DEF_HANDLER_NO_ERROR_CODE(79)
DEF_HANDLER_NO_ERROR_CODE(80)
DEF_HANDLER_NO_ERROR_CODE(81)
DEF_HANDLER_NO_ERROR_CODE(82)
DEF_HANDLER_NO_ERROR_CODE(83)
DEF_HANDLER_NO_ERROR_CODE(84)
DEF_HANDLER_NO_ERROR_CODE(85)
DEF_HANDLER_NO_ERROR_CODE(86)
DEF_HANDLER_NO_ERROR_CODE(87)
DEF_HANDLER_NO_ERROR_CODE(88)
DEF_HANDLER_NO_ERROR_CODE(89)
DEF_HANDLER_NO_ERROR_CODE(90)
DEF_HANDLER_NO_ERROR_CODE(91)
DEF_HANDLER_NO_ERROR_CODE(92)
DEF_HANDLER_NO_ERROR_CODE(93)
DEF_HANDLER_NO_ERROR_CODE(94)
DEF_HANDLER_NO_ERROR_CODE(95)
DEF_HANDLER_NO_ERROR_CODE(96)
DEF_HANDLER_NO_ERROR_CODE(97)
DEF_HANDLER_NO_ERROR_CODE(98)
DEF_HANDLER_NO_ERROR_CODE(99)
DEF_HANDLER_NO_ERROR_CODE(100)
DEF_HANDLER_NO_ERROR_CODE(101)
DEF_HANDLER_NO_ERROR_CODE(102)
DEF_HANDLER_NO_ERROR_CODE(103)
DEF_HANDLER_NO_ERROR_CODE(104)
DEF_HANDLER_NO_ERROR_CODE(105)
DEF_HANDLER_NO_ERROR_CODE(106)
DEF_HANDLER_NO_ERROR_CODE(107)
DEF_HANDLER_NO_ERROR_CODE(108)
DEF_HANDLER_NO_ERROR_CODE(109)
DEF_HANDLER_NO_ERROR_CODE(110)
DEF_HANDLER_NO_ERROR_CODE(111)
DEF_HANDLER_NO_ERROR_CODE(112)
DEF_HANDLER_NO_ERROR_CODE(113)
DEF_HANDLER_NO_ERROR_CODE(114)
DEF_HANDLER_NO_ERROR_CODE(115)
DEF_HANDLER_NO_ERROR_CODE(116)
DEF_HANDLER_NO_ERROR_CODE(117)
DEF_HANDLER_NO_ERROR_CODE(118)
DEF_HANDLER_NO_ERROR_CODE(119)
DEF_HANDLER_NO_ERROR_CODE(120)
DEF_HANDLER_NO_ERROR_CODE(121)
DEF_HANDLER_NO_ERROR_CODE(122)
DEF_HANDLER_NO_ERROR_CODE(123)
DEF_HANDLER_NO_ERROR_CODE(124)
DEF_HANDLER_NO_ERROR_CODE(125)
DEF_HANDLER_NO_ERROR_CODE(126)
DEF_HANDLER_NO_ERROR_CODE(127)
DEF_HANDLER_NO_ERROR_CODE(128)
DEF_HANDLER_NO_ERROR_CODE(129)
DEF_HANDLER_NO_ERROR_CODE(130)
DEF_HANDLER_NO_ERROR_CODE(131)
DEF_HANDLER_NO_ERROR_CODE(132)
DEF_HANDLER_NO_ERROR_CODE(133)
DEF_HANDLER_NO_ERROR_CODE(134)
DEF_HANDLER_NO_ERROR_CODE(135)
DEF_HANDLER_NO_ERROR_CODE(136)
DEF_HANDLER_NO_ERROR_CODE(137)
DEF_HANDLER_NO_ERROR_CODE(138)
DEF_HANDLER_NO_ERROR_CODE(139)
DEF_HANDLER_NO_ERROR_CODE(140)
DEF_HANDLER_NO_ERROR_CODE(141)
DEF_HANDLER_NO_ERROR_CODE(142)
DEF_HANDLER_NO_ERROR_CODE(143)
DEF_HANDLER_NO_ERROR_CODE(144)
DEF_HANDLER_NO_ERROR_CODE(145)
DEF_HANDLER_NO_ERROR_CODE(146)
DEF_HANDLER_NO_ERROR_CODE(147)
DEF_HANDLER_NO_ERROR_CODE(148)
DEF_HANDLER_NO_ERROR_CODE(149)
DEF_HANDLER_NO_ERROR_CODE(150)
DEF_HANDLER_NO_ERROR_CODE(151)
DEF_HANDLER_NO_ERROR_CODE(152)
DEF_HANDLER_NO_ERROR_CODE(153)
DEF_HANDLER_NO_ERROR_CODE(154)
DEF_HANDLER_NO_ERROR_CODE(155)
DEF_HANDLER_NO_ERROR_CODE(156)
DEF_HANDLER_NO_ERROR_CODE(157)
DEF_HANDLER_NO_ERROR_CODE(158)
DEF_HANDLER_NO_ERROR_CODE(159)
DEF_HANDLER_NO_ERROR_CODE(160)
DEF_HANDLER_NO_ERROR_CODE(161)
DEF_HANDLER_NO_ERROR_CODE(162)
DEF_HANDLER_NO_ERROR_CODE(163)
DEF_HANDLER_NO_ERROR_CODE(164)
DEF_HANDLER_NO_ERROR_CODE(165)
DEF_HANDLER_NO_ERROR_CODE(166)
DEF_HANDLER_NO_ERROR_CODE(167)
DEF_HANDLER_NO_ERROR_CODE(168)
DEF_HANDLER_NO_ERROR_CODE(169)
DEF_HANDLER_NO_ERROR_CODE(170)
DEF_HANDLER_NO_ERROR_CODE(171)
DEF_HANDLER_NO_ERROR_CODE(172)
DEF_HANDLER_NO_ERROR_CODE(173)
DEF_HANDLER_NO_ERROR_CODE(174)
DEF_HANDLER_NO_ERROR_CODE(175)
DEF_HANDLER_NO_ERROR_CODE(176)
DEF_HANDLER_NO_ERROR_CODE(177)
DEF_HANDLER_NO_ERROR_CODE(178)
DEF_HANDLER_NO_ERROR_CODE(179)
DEF_HANDLER_NO_ERROR_CODE(180)
DEF_HANDLER_NO_ERROR_CODE(181)
DEF_HANDLER_NO_ERROR_CODE(182)
DEF_HANDLER_NO_ERROR_CODE(183)
DEF_HANDLER_NO_ERROR_CODE(184)
DEF_HANDLER_NO_ERROR_CODE(185)
DEF_HANDLER_NO_ERROR_CODE(186)
DEF_HANDLER_NO_ERROR_CODE(187)
DEF_HANDLER_NO_ERROR_CODE(188)
DEF_HANDLER_NO_ERROR_CODE(189)
DEF_HANDLER_NO_ERROR_CODE(190)
DEF_HANDLER_NO_ERROR_CODE(191)
DEF_HANDLER_NO_ERROR_CODE(192)
DEF_HANDLER_NO_ERROR_CODE(193)
DEF_HANDLER_NO_ERROR_CODE(194)
DEF_HANDLER_NO_ERROR_CODE(195)
DEF_HANDLER_NO_ERROR_CODE(196)
DEF_HANDLER_NO_ERROR_CODE(197)
DEF_HANDLER_NO_ERROR_CODE(198)
DEF_HANDLER_NO_ERROR_CODE(199)
DEF_HANDLER_NO_ERROR_CODE(200)
DEF_HANDLER_NO_ERROR_CODE(201)
DEF_HANDLER_NO_ERROR_CODE(202)
DEF_HANDLER_NO_ERROR_CODE(203)
DEF_HANDLER_NO_ERROR_CODE(204)
DEF_HANDLER_NO_ERROR_CODE(205)
DEF_HANDLER_NO_ERROR_CODE(206)
DEF_HANDLER_NO_ERROR_CODE(207)
DEF_HANDLER_NO_ERROR_CODE(208)
DEF_HANDLER_NO_ERROR_CODE(209)
DEF_HANDLER_NO_ERROR_CODE(210)
DEF_HANDLER_NO_ERROR_CODE(211)
DEF_HANDLER_NO_ERROR_CODE(212)
DEF_HANDLER_NO_ERROR_CODE(213)
DEF_HANDLER_NO_ERROR_CODE(214)
DEF_HANDLER_NO_ERROR_CODE(215)
DEF_HANDLER_NO_ERROR_CODE(216)
DEF_HANDLER_NO_ERROR_CODE(217)
DEF_HANDLER_NO_ERROR_CODE(218)
DEF_HANDLER_NO_ERROR_CODE(219)
DEF_HANDLER_NO_ERROR_CODE(220)
DEF_HANDLER_NO_ERROR_CODE(221)
DEF_HANDLER_NO_ERROR_CODE(222)
DEF_HANDLER_NO_ERROR_CODE(223)
DEF_HANDLER_NO_ERROR_CODE(224)
DEF_HANDLER_NO_ERROR_CODE(225)
DEF_HANDLER_NO_ERROR_CODE(226)
DEF_HANDLER_NO_ERROR_CODE(227)
DEF_HANDLER_NO_ERROR_CODE(228)
DEF_HANDLER_NO_ERROR_CODE(229)
DEF_HANDLER_NO_ERROR_CODE(230)
DEF_HANDLER_NO_ERROR_CODE(231)
DEF_HANDLER_NO_ERROR_CODE(232)
DEF_HANDLER_NO_ERROR_CODE(233)
DEF_HANDLER_NO_ERROR_CODE(234)
DEF_HANDLER_NO_ERROR_CODE(235)
DEF_HANDLER_NO_ERROR_CODE(236)
DEF_HANDLER_NO_ERROR_CODE(237)
DEF_HANDLER_NO_ERROR_CODE(238)
DEF_HANDLER_NO_ERROR_CODE(239)
DEF_HANDLER_NO_ERROR_CODE(240)
DEF_HANDLER_NO_ERROR_CODE(241)
DEF_HANDLER_NO_ERROR_CODE(242)
DEF_HANDLER_NO_ERROR_CODE(243)
DEF_HANDLER_NO_ERROR_CODE(244)
DEF_HANDLER_NO_ERROR_CODE(245)
DEF_HANDLER_NO_ERROR_CODE(246)
DEF_HANDLER_NO_ERROR_CODE(247)
DEF_HANDLER_NO_ERROR_CODE(248)
DEF_HANDLER_NO_ERROR_CODE(249)
DEF_HANDLER_NO_ERROR_CODE(250)
DEF_HANDLER_NO_ERROR_CODE(251)
DEF_HANDLER_NO_ERROR_CODE(252)
DEF_HANDLER_NO_ERROR_CODE(253)
DEF_HANDLER_NO_ERROR_CODE(254)
DEF_HANDLER_NO_ERROR_CODE(255)

#undef DEF_HANDLER
#undef DEF_HANDLER_NO_ERROR_CODE
